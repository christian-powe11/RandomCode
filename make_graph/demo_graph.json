[
    {
        "id": "edit_xcgumh",
        "name": "Transform",
        "type": "edit",
        "description": "Scalar manipulation for Transactions",
        "config": {
            "edits": [
                {
                    "action": "add_col",
                    "expression": "TransactionID, CustomerID, Date, Amount",
                    "lookup": {
                        "arguments": [
                            {
                                "dataType": "integer",
                                "fieldId": "TransactionID",
                                "fieldName": "TransactionID",
                                "type": "field"
                            },
                            {
                                "dataType": "integer",
                                "fieldId": "CustomerID",
                                "fieldName": "CustomerID",
                                "type": "field"
                            },
                            {
                                "dataType": "date",
                                "fieldId": "Date",
                                "fieldName": "Date",
                                "type": "field"
                            },
                            {
                                "dataType": "number",
                                "fieldId": "Amount",
                                "fieldName": "Amount",
                                "type": "field"
                            }
                        ],
                        "operator": "select",
                        "type": "operation"
                    },
                    "mode": "expression",
                    "tgtCol": {
                        "dataType": "any",
                        "name": "Edit CTE Output"
                    }
                }
            ],
            "hiddenFields": [],
            "orderedFields": [
                "TransactionID",
                "CustomerID",
                "Date",
                "Amount"
            ],
            "renames": {}
        },
        "inlets": [
            {
                "id": "in_0",
                "source": "Transactions",
                "sourceOutlet": "out_0"
            }
        ],
        "name": "Edit Transactions",
        "outlets": [
            {
                "id": "out_0",
                "targets": [
                    {
                        "target": "Grouped",
                        "targetInlet": "in_0"
                    }
                ]
            }
        ],
        "type": "edit"
    },
    {
        "description": "Total sales for each customer",
        "config": {
            "aggs": [
                {
                    "arg": {
                        "selectedField": "SaleAmount",
                        "type": "field"
                    },
                    "calc": "SUM",
                    "src_col": "SaleAmount",
                    "tgt_col": {
                        "dataType": "number",
                        "name": "TotalSales"
                    }
                }
            ],
            "groupBy": [
                "CustomerID"
            ]
        },
        "inlets": [
            {
                "id": "in_0",
                "source": "Edit",
                "sourceOutlet": "out_0"
            }
        ],
        "name": "Group by Customer",
        "outlets": [
            {
                "id": "out_0",
                "targets": [
                    {
                        "target": "Joined",
                        "targetInlet": "in_0"
                    }
                ]
            }
        ],
        "type": "summarize"
    },
    {
        "description": "Join customer details with sales",
        "config": {
            "joiner": "and",
            "joinType": "inner",
            "on": [
                {
                    "lhs": "c.CustomerID",
                    "lhsMetadata": {
                        "dataType": "integer",
                        "name": "CustomerID"
                    },
                    "op": "eq",
                    "rhs": "g.CustomerID",
                    "rhsMetadata": {
                        "dataType": "integer",
                        "name": "CustomerID"
                    }
                }
            ]
        },
        "inlets": [
            {
                "id": "in_0",
                "source": "Customers",
                "sourceOutlet": "out_0"
            },
            {
                "id": "in_1",
                "source": "Grouped",
                "sourceOutlet": "out_1"
            }
        ],
        "name": "Join Customer and Sales",
        "outlets": [
            {
                "id": "out_0",
                "targets": []
            }
        ],
        "type": "join"
    }
]